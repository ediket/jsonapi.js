(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("lodash"), require("underscore-db"), require("q"), require("url-join"), require("jquery"));
	else if(typeof define === 'function' && define.amd)
		define(["lodash", "underscore-db", "q", "url-join", "jquery"], factory);
	else if(typeof exports === 'object')
		exports["JSONAPI"] = factory(require("lodash"), require("underscore-db"), require("q"), require("url-join"), require("jquery"));
	else
		root["JSONAPI"] = factory(root["_"], root["underscoreDB"], root["Q"], root["urljoin"], root["$"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_11__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _modulesPool = __webpack_require__(5);\n\nvar _modulesPool2 = _interopRequireDefault(_modulesPool);\n\nvar _modulesResource = __webpack_require__(13);\n\nvar _modulesResource2 = _interopRequireDefault(_modulesResource);\n\nvar _modulesResourceIdentifier = __webpack_require__(4);\n\nvar _modulesResourceIdentifier2 = _interopRequireDefault(_modulesResourceIdentifier);\n\nvar _modulesRelationship = __webpack_require__(1);\n\nvar _modulesRelationship2 = _interopRequireDefault(_modulesRelationship);\n\nvar _modulesLink = __webpack_require__(3);\n\nvar _modulesLink2 = _interopRequireDefault(_modulesLink);\n\nvar _modulesRESTful = __webpack_require__(10);\n\nvar _modulesRESTful2 = _interopRequireDefault(_modulesRESTful);\n\nexports['default'] = {\n  Pool: _modulesPool2['default'],\n  Resource: _modulesResource2['default'],\n  ResourceIdentifier: _modulesResourceIdentifier2['default'],\n  Relationship: _modulesRelationship2['default'],\n  Link: _modulesLink2['default'],\n  RESTful: _modulesRESTful2['default']\n};\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanNvbmFwaS5lczY/YzMyOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozt1Q0FBaUIsQ0FBZ0I7Ozs7MkNBQ1osRUFBb0I7Ozs7cURBQ1YsQ0FBOEI7Ozs7K0NBQ3BDLENBQXdCOzs7O3VDQUNoQyxDQUFnQjs7OzswQ0FDYixFQUFtQjs7OztxQkFFeEI7QUFDYixNQUFJO0FBQ0osVUFBUTtBQUNSLG9CQUFrQjtBQUNsQixjQUFZO0FBQ1osTUFBSTtBQUNKLFNBQU87Q0FDUiIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBvb2wgZnJvbSAnLi9tb2R1bGVzL1Bvb2wnO1xuaW1wb3J0IFJlc291cmNlIGZyb20gJy4vbW9kdWxlcy9SZXNvdXJjZSc7XG5pbXBvcnQgUmVzb3VyY2VJZGVudGlmaWVyIGZyb20gJy4vbW9kdWxlcy9SZXNvdXJjZUlkZW50aWZpZXInO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuL21vZHVsZXMvUmVsYXRpb25zaGlwJztcbmltcG9ydCBMaW5rIGZyb20gJy4vbW9kdWxlcy9MaW5rJztcbmltcG9ydCBSRVNUZnVsIGZyb20gJy4vbW9kdWxlcy9SRVNUZnVsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBQb29sLFxuICBSZXNvdXJjZSxcbiAgUmVzb3VyY2VJZGVudGlmaWVyLFxuICBSZWxhdGlvbnNoaXAsXG4gIExpbmssXG4gIFJFU1RmdWxcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9qc29uYXBpLmVzNlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Link = __webpack_require__(3);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _ResourceIdentifier = __webpack_require__(4);\n\nvar _ResourceIdentifier2 = _interopRequireDefault(_ResourceIdentifier);\n\nvar Relationship = (function () {\n  function Relationship(relationship) {\n    _classCallCheck(this, Relationship);\n\n    this.deserialize(relationship);\n  }\n\n  _createClass(Relationship, [{\n    key: 'serialize',\n    value: function serialize() {\n      return _lodash2['default'].chain({\n        links: _lodash2['default'].mapValues(this.links, function (link) {\n          return link.serialize();\n        }),\n        meta: this.meta\n      }).omit(_lodash2['default'].isEmpty).extend({\n        data: _lodash2['default'].isArray(this.data) ? _lodash2['default'].map(this.data, function (identifier) {\n          return identifier.serialize();\n        }) : this.data && this.data.serialize()\n      }).omit(_lodash2['default'].isUndefined).value();\n    }\n  }, {\n    key: 'replaceLinkage',\n    value: function replaceLinkage(linkage) {\n      if (_lodash2['default'].isArray(linkage)) {\n        this.data = _lodash2['default'].map(linkage, function (linkage) {\n          return new _ResourceIdentifier2['default'](linkage);\n        });\n      } else {\n        if (_lodash2['default'].isNull(linkage)) {\n          this.data = null;\n        } else {\n          this.data = new _ResourceIdentifier2['default'](linkage);\n        }\n      }\n    }\n  }, {\n    key: 'addLinkage',\n    value: function addLinkage(linkage) {\n      if (!_lodash2['default'].isArray(this.data)) {\n        throw new Error('relationship should be array');\n      }\n\n      if (!_lodash2['default'].isArray(linkage)) {\n        throw new Error('linkage should be array!');\n      }\n\n      this.removeLinkage(linkage);\n      this.data = this.data.concat(_lodash2['default'].map(linkage, function (linkage) {\n        return new _ResourceIdentifier2['default'](linkage);\n      }));\n    }\n  }, {\n    key: 'removeLinkage',\n    value: function removeLinkage(linkage) {\n      if (!_lodash2['default'].isArray(this.data)) {\n        throw new Error('relationship should be array');\n      }\n\n      if (!_lodash2['default'].isArray(linkage)) {\n        throw new Error('linkage should be array!');\n      }\n\n      _lodash2['default'].remove(this.data, function (identifier) {\n        return _lodash2['default'].findWhere(linkage, identifier);\n      });\n    }\n  }, {\n    key: 'deserialize',\n    value: function deserialize(relationship) {\n      this.links = _lodash2['default'].mapValues(relationship.links, function (link) {\n        return new _Link2['default'](link);\n      });\n      if (!_lodash2['default'].isUndefined(relationship.data)) {\n        this.replaceLinkage(relationship.data);\n      } else {\n        this.data = undefined;\n      }\n      this.meta = relationship.meta;\n    }\n  }]);\n\n  return Relationship;\n})();\n\nexports['default'] = Relationship;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9SZWxhdGlvbnNoaXAuZXM2PzkxZTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O2tDQUFjLENBQVE7Ozs7Z0NBQ0wsQ0FBUTs7Ozs4Q0FDTSxDQUFzQjs7OztJQUdoQyxZQUFZO0FBRXBCLFdBRlEsWUFBWSxDQUVuQixZQUFZLEVBQUU7MEJBRlAsWUFBWTs7QUFHN0IsUUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztHQUNoQzs7ZUFKa0IsWUFBWTs7V0FNdEIscUJBQUc7QUFDVixhQUFPLG9CQUFFLEtBQUssQ0FBQztBQUNiLGFBQUssRUFBRSxvQkFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxjQUFJO2lCQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7U0FBQSxDQUFDO0FBQ3hELFlBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtPQUNoQixDQUFDLENBQ0QsSUFBSSxDQUFDLG9CQUFFLE9BQU8sQ0FBQyxDQUNmLE1BQU0sQ0FBQztBQUNOLFlBQUksRUFBRSxvQkFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUN4QixvQkFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxvQkFBVTtpQkFBSSxVQUFVLENBQUMsU0FBUyxFQUFFO1NBQUEsQ0FBQyxHQUN0RCxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO09BQ3JDLENBQUMsQ0FDRCxJQUFJLENBQUMsb0JBQUUsV0FBVyxDQUFDLENBQ25CLEtBQUssRUFBRSxDQUFDO0tBQ1Y7OztXQUVhLHdCQUFDLE9BQU8sRUFBRTtBQUN0QixVQUFJLG9CQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUN0QixZQUFJLENBQUMsSUFBSSxHQUFHLG9CQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQ3ZCLGlCQUFPO2lCQUFJLG9DQUF1QixPQUFPLENBQUM7U0FBQSxDQUFDLENBQUM7T0FDL0MsTUFDSTtBQUNILFlBQUksb0JBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQ3JCLGNBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQ2xCLE1BQ0k7QUFDSCxjQUFJLENBQUMsSUFBSSxHQUFHLG9DQUF1QixPQUFPLENBQUMsQ0FBQztTQUM3QztPQUNGO0tBQ0Y7OztXQUVTLG9CQUFDLE9BQU8sRUFBRTtBQUNsQixVQUFJLENBQUMsb0JBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUN6QixjQUFNLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7T0FDakQ7O0FBRUQsVUFBSSxDQUFDLG9CQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUN2QixjQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7T0FDN0M7O0FBRUQsVUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QixVQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUMxQixvQkFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLGlCQUFPO2VBQUksb0NBQXVCLE9BQU8sQ0FBQztPQUFBLENBQUMsQ0FDM0QsQ0FBQztLQUNIOzs7V0FFWSx1QkFBQyxPQUFPLEVBQUU7QUFDckIsVUFBSSxDQUFDLG9CQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDekIsY0FBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO09BQ2pEOztBQUVELFVBQUksQ0FBQyxvQkFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDdkIsY0FBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO09BQzdDOztBQUVELDBCQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLG9CQUFVLEVBQUk7QUFDaEMsZUFBTyxvQkFBRSxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO09BQ3pDLENBQUMsQ0FBQztLQUNKOzs7V0FFVSxxQkFBQyxZQUFZLEVBQUU7QUFDeEIsVUFBSSxDQUFDLEtBQUssR0FBRyxvQkFBRSxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxjQUFJLEVBQUk7QUFDbkQsZUFBTyxzQkFBUyxJQUFJLENBQUMsQ0FBQztPQUN2QixDQUFDLENBQUM7QUFDSCxVQUFJLENBQUMsb0JBQUUsV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNyQyxZQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN4QyxNQUNJO0FBQ0gsWUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7T0FDdkI7QUFDRCxVQUFJLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUM7S0FDL0I7OztTQTVFa0IsWUFBWTs7O3FCQUFaLFlBQVkiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgTGluayBmcm9tICcuL0xpbmsnO1xuaW1wb3J0IFJlc291cmNlSWRlbnRpZmllciBmcm9tICcuL1Jlc291cmNlSWRlbnRpZmllcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVsYXRpb25zaGlwIHtcblxuICBjb25zdHJ1Y3RvcihyZWxhdGlvbnNoaXApIHtcbiAgICB0aGlzLmRlc2VyaWFsaXplKHJlbGF0aW9uc2hpcCk7XG4gIH1cblxuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIF8uY2hhaW4oe1xuICAgICAgbGlua3M6IF8ubWFwVmFsdWVzKHRoaXMubGlua3MsIGxpbmsgPT4gbGluay5zZXJpYWxpemUoKSksXG4gICAgICBtZXRhOiB0aGlzLm1ldGFcbiAgICB9KVxuICAgIC5vbWl0KF8uaXNFbXB0eSlcbiAgICAuZXh0ZW5kKHtcbiAgICAgIGRhdGE6IF8uaXNBcnJheSh0aGlzLmRhdGEpID9cbiAgICAgICAgXy5tYXAodGhpcy5kYXRhLCBpZGVudGlmaWVyID0+IGlkZW50aWZpZXIuc2VyaWFsaXplKCkpIDpcbiAgICAgICAgdGhpcy5kYXRhICYmIHRoaXMuZGF0YS5zZXJpYWxpemUoKVxuICAgIH0pXG4gICAgLm9taXQoXy5pc1VuZGVmaW5lZClcbiAgICAudmFsdWUoKTtcbiAgfVxuXG4gIHJlcGxhY2VMaW5rYWdlKGxpbmthZ2UpIHtcbiAgICBpZiAoXy5pc0FycmF5KGxpbmthZ2UpKSB7XG4gICAgICB0aGlzLmRhdGEgPSBfLm1hcChsaW5rYWdlLFxuICAgICAgICBsaW5rYWdlID0+IG5ldyBSZXNvdXJjZUlkZW50aWZpZXIobGlua2FnZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChfLmlzTnVsbChsaW5rYWdlKSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBSZXNvdXJjZUlkZW50aWZpZXIobGlua2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYWRkTGlua2FnZShsaW5rYWdlKSB7XG4gICAgaWYgKCFfLmlzQXJyYXkodGhpcy5kYXRhKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWxhdGlvbnNoaXAgc2hvdWxkIGJlIGFycmF5Jyk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzQXJyYXkobGlua2FnZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbGlua2FnZSBzaG91bGQgYmUgYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVMaW5rYWdlKGxpbmthZ2UpO1xuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5jb25jYXQoXG4gICAgICBfLm1hcChsaW5rYWdlLCBsaW5rYWdlID0+IG5ldyBSZXNvdXJjZUlkZW50aWZpZXIobGlua2FnZSkpXG4gICAgKTtcbiAgfVxuXG4gIHJlbW92ZUxpbmthZ2UobGlua2FnZSkge1xuICAgIGlmICghXy5pc0FycmF5KHRoaXMuZGF0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVsYXRpb25zaGlwIHNob3VsZCBiZSBhcnJheScpO1xuICAgIH1cblxuICAgIGlmICghXy5pc0FycmF5KGxpbmthZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpbmthZ2Ugc2hvdWxkIGJlIGFycmF5IScpO1xuICAgIH1cblxuICAgIF8ucmVtb3ZlKHRoaXMuZGF0YSwgaWRlbnRpZmllciA9PiB7XG4gICAgICByZXR1cm4gXy5maW5kV2hlcmUobGlua2FnZSwgaWRlbnRpZmllcik7XG4gICAgfSk7XG4gIH1cblxuICBkZXNlcmlhbGl6ZShyZWxhdGlvbnNoaXApIHtcbiAgICB0aGlzLmxpbmtzID0gXy5tYXBWYWx1ZXMocmVsYXRpb25zaGlwLmxpbmtzLCBsaW5rID0+IHtcbiAgICAgIHJldHVybiBuZXcgTGluayhsaW5rKTtcbiAgICB9KTtcbiAgICBpZiAoIV8uaXNVbmRlZmluZWQocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICB0aGlzLnJlcGxhY2VMaW5rYWdlKHJlbGF0aW9uc2hpcC5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMubWV0YSA9IHJlbGF0aW9uc2hpcC5tZXRhO1xuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZHVsZXMvUmVsYXRpb25zaGlwLmVzNlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_2__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiX1wiLFwiYW1kXCI6XCJsb2Rhc2hcIixcImNvbW1vbmpzXCI6XCJsb2Rhc2hcIixcImNvbW1vbmpzMlwiOlwibG9kYXNoXCJ9PzNlMDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJfXCIsXCJhbWRcIjpcImxvZGFzaFwiLFwiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIn1cbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar Link = (function () {\n  function Link(link) {\n    _classCallCheck(this, Link);\n\n    this.deserialize(link);\n  }\n\n  _createClass(Link, [{\n    key: 'serialize',\n    value: function serialize() {\n      return _lodash2['default'].omit({\n        href: this.href,\n        meta: this.meta\n      }, _lodash2['default'].isEmpty);\n    }\n  }, {\n    key: 'deserialize',\n    value: function deserialize(link) {\n      if (_lodash2['default'].isString(link)) {\n        this.href = link;\n        this.meta = {};\n      } else {\n        this.href = link.href;\n        this.meta = link.meta;\n      }\n    }\n  }]);\n\n  return Link;\n})();\n\nexports['default'] = Link;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9MaW5rLmVzNj9iMGU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztrQ0FBYyxDQUFROzs7O0lBR0QsSUFBSTtBQUVaLFdBRlEsSUFBSSxDQUVYLElBQUksRUFBRTswQkFGQyxJQUFJOztBQUdyQixRQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ3hCOztlQUprQixJQUFJOztXQU1kLHFCQUFHO0FBQ1YsYUFBTyxvQkFBRSxJQUFJLENBQUM7QUFDWixZQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7QUFDZixZQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7T0FDaEIsRUFBRSxvQkFBRSxPQUFPLENBQUMsQ0FBQztLQUNmOzs7V0FFVSxxQkFBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxvQkFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDcEIsWUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDakIsWUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7T0FDaEIsTUFDSTtBQUNILFlBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUN0QixZQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7T0FDdkI7S0FDRjs7O1NBdEJrQixJQUFJOzs7cUJBQUosSUFBSSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rIHtcblxuICBjb25zdHJ1Y3RvcihsaW5rKSB7XG4gICAgdGhpcy5kZXNlcmlhbGl6ZShsaW5rKTtcbiAgfVxuXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gXy5vbWl0KHtcbiAgICAgIGhyZWY6IHRoaXMuaHJlZixcbiAgICAgIG1ldGE6IHRoaXMubWV0YVxuICAgIH0sIF8uaXNFbXB0eSk7XG4gIH1cblxuICBkZXNlcmlhbGl6ZShsaW5rKSB7XG4gICAgaWYgKF8uaXNTdHJpbmcobGluaykpIHtcbiAgICAgIHRoaXMuaHJlZiA9IGxpbms7XG4gICAgICB0aGlzLm1ldGEgPSB7fTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmhyZWYgPSBsaW5rLmhyZWY7XG4gICAgICB0aGlzLm1ldGEgPSBsaW5rLm1ldGE7XG4gICAgfVxuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZHVsZXMvTGluay5lczZcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar ResourceIdentifier = (function () {\n  function ResourceIdentifier(resourceIdentifier) {\n    _classCallCheck(this, ResourceIdentifier);\n\n    this.deserialize(resourceIdentifier);\n  }\n\n  _createClass(ResourceIdentifier, [{\n    key: 'serialize',\n    value: function serialize() {\n      return _lodash2['default'].omit({\n        type: this.type,\n        id: this.id\n      }, _lodash2['default'].isUndefined);\n    }\n  }, {\n    key: 'deserialize',\n    value: function deserialize(resourceIdentifier) {\n      if (!(resourceIdentifier && resourceIdentifier.type)) {\n        throw new Error('invalid data!');\n      }\n      this.type = resourceIdentifier.type;\n      this.id = resourceIdentifier.id;\n    }\n  }]);\n\n  return ResourceIdentifier;\n})();\n\nexports['default'] = ResourceIdentifier;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9SZXNvdXJjZUlkZW50aWZpZXIuZXM2P2M4MmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O2tDQUFjLENBQVE7Ozs7SUFHRCxrQkFBa0I7QUFFMUIsV0FGUSxrQkFBa0IsQ0FFekIsa0JBQWtCLEVBQUU7MEJBRmIsa0JBQWtCOztBQUduQyxRQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7R0FDdEM7O2VBSmtCLGtCQUFrQjs7V0FNNUIscUJBQUc7QUFDVixhQUFPLG9CQUFFLElBQUksQ0FBQztBQUNaLFlBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtBQUNmLFVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtPQUNaLEVBQUUsb0JBQUUsV0FBVyxDQUFDLENBQUM7S0FDbkI7OztXQUVVLHFCQUFDLGtCQUFrQixFQUFFO0FBQzlCLFVBQUksRUFBRSxrQkFBa0IsSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNwRCxjQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO09BQ2xDO0FBQ0QsVUFBSSxDQUFDLElBQUksR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7QUFDcEMsVUFBSSxDQUFDLEVBQUUsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7S0FDakM7OztTQW5Ca0Isa0JBQWtCOzs7cUJBQWxCLGtCQUFrQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZUlkZW50aWZpZXIge1xuXG4gIGNvbnN0cnVjdG9yKHJlc291cmNlSWRlbnRpZmllcikge1xuICAgIHRoaXMuZGVzZXJpYWxpemUocmVzb3VyY2VJZGVudGlmaWVyKTtcbiAgfVxuXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gXy5vbWl0KHtcbiAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgIGlkOiB0aGlzLmlkXG4gICAgfSwgXy5pc1VuZGVmaW5lZCk7XG4gIH1cblxuICBkZXNlcmlhbGl6ZShyZXNvdXJjZUlkZW50aWZpZXIpIHtcbiAgICBpZiAoIShyZXNvdXJjZUlkZW50aWZpZXIgJiYgcmVzb3VyY2VJZGVudGlmaWVyLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZGF0YSEnKTtcbiAgICB9XG4gICAgdGhpcy50eXBlID0gcmVzb3VyY2VJZGVudGlmaWVyLnR5cGU7XG4gICAgdGhpcy5pZCA9IHJlc291cmNlSWRlbnRpZmllci5pZDtcbiAgfVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tb2R1bGVzL1Jlc291cmNlSWRlbnRpZmllci5lczZcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _q = __webpack_require__(8);\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _urlJoin = __webpack_require__(9);\n\nvar _urlJoin2 = _interopRequireDefault(_urlJoin);\n\nvar _DB = __webpack_require__(6);\n\nvar _DB2 = _interopRequireDefault(_DB);\n\nvar _RESTful = __webpack_require__(10);\n\nvar _RESTful2 = _interopRequireDefault(_RESTful);\n\nvar _Resource = __webpack_require__(13);\n\nvar _Resource2 = _interopRequireDefault(_Resource);\n\nvar Pool = (function () {\n  function Pool() {\n    _classCallCheck(this, Pool);\n\n    this.db = new _DB2['default']();\n    this.sync = _RESTful2['default'];\n    this.resetAll();\n    this.remote = {};\n  }\n\n  _createClass(Pool, [{\n    key: 'resetAll',\n    value: function resetAll() {\n      this.remote = {};\n      this.db.object = {};\n    }\n  }, {\n    key: 'fetch',\n    value: function fetch(type, id) {\n      var _this = this;\n\n      var options = arguments[2] === undefined ? {} : arguments[2];\n\n      var params = {};\n\n      if (options.sort) {\n        params.sort = options.sort.join(',');\n      }\n\n      if (options.include) {\n        params.include = options.include.join(',');\n      }\n\n      if (options.page) {\n        params = _lodash2['default'].extend(params, {\n          'page[number]': options.page.number,\n          'page[size]': options.page.size\n        });\n      }\n\n      if (options.fields) {\n        _lodash2['default'].reduce(options.fields, function (result, fields, type) {\n          result['fields[' + type + ']'] = fields.join(',');\n          return result;\n        }, params);\n      }\n\n      if (options.filter) {\n        _lodash2['default'].reduce(options.filter, function (result, filter, type) {\n          result['filter[' + type + ']'] = filter.join(',');\n          return result;\n        }, params);\n      }\n\n      params = _lodash2['default'].omit(params, _lodash2['default'].isUndefined);\n\n      return this.sync.get(this.getRemote(type, id), params).then(function (response) {\n        return _this.saveResponseToPool(response);\n      });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(type, id) {\n      var _this2 = this;\n\n      var options = arguments[2] === undefined ? { sync: true } : arguments[2];\n\n      if (!type || !id) {\n        throw new Error('unenough arguments');\n      }\n\n      if (!options.sync) {\n        return _q2['default'].resolve(this.removeResourceFromPool(type, id));\n      }\n\n      return this.sync['delete'](this.getRemote(type, id)).then(function (response) {\n        return response.status !== 204 ? _this2.saveResponseToPool(response) : null;\n      }).then(function () {\n        return _this2.removeResourceFromPool(type, id);\n      });\n    }\n  }, {\n    key: 'create',\n    value: function create(type, data) {\n      var _this3 = this;\n\n      var options = arguments[2] === undefined ? { sync: true } : arguments[2];\n\n      data = _lodash2['default'].extend({ type: type }, data);\n\n      if (!options.sync) {\n        return _q2['default'].resolve(this.saveResourceToPool(data));\n      }\n\n      return this.sync.post(this.getRemote(type), { data: data }).then(function (response) {\n        return response.status === 204 ? _this3.saveResourceToPool(data) : _this3.saveResponseToPool(response);\n      });\n    }\n  }, {\n    key: 'update',\n    value: function update(type, id, data) {\n      var _this4 = this;\n\n      var options = arguments[3] === undefined ? { sync: true } : arguments[3];\n\n      data = _lodash2['default'].extend({ type: type, id: id }, data);\n\n      if (!options.sync) {\n        return _q2['default'].resolve(this.saveResourceToPool(data));\n      }\n\n      return this.sync.patch(this.getRemote(type, id), { data: data }).then(function (response) {\n        return response.status === 204 ? _this4.saveResourceToPool(data, true) : _this4.saveResponseToPool(response);\n      });\n    }\n  }, {\n    key: 'replaceLinkage',\n    value: function replaceLinkage(relationship, linkage) {\n      var options = arguments[2] === undefined ? { sync: true } : arguments[2];\n\n      if (!options.sync) {\n        relationship.replaceLinkage(linkage);\n        return _q2['default'].resolve(relationship);\n      }\n\n      if (!(relationship.links && relationship.links.self)) {\n        throw new Error('relationship should contain self link!');\n      }\n\n      return this.sync.patch(relationship.links.self.href, { data: linkage }).then(function () {\n        relationship.replaceLinkage(linkage);\n        return relationship;\n      });\n    }\n  }, {\n    key: 'addLinkage',\n\n    /* To-Many Relationships only */\n    value: function addLinkage(relationship, linkage) {\n      var options = arguments[2] === undefined ? { sync: true } : arguments[2];\n\n      if (!_lodash2['default'].isArray(linkage)) {\n        throw new Error('linkage should be array!');\n      }\n\n      if (!_lodash2['default'].isArray(relationship.data)) {\n        throw new Error('relationship should be array');\n      }\n\n      if (!options.sync) {\n        relationship.addLinkage(linkage);\n        return _q2['default'].resolve(relationship);\n      }\n\n      if (!(relationship.links && relationship.links.self)) {\n        throw new Error('relationship should contain self link!');\n      }\n\n      return this.sync.post(relationship.links.self.href, { data: linkage }).then(function () {\n        relationship.addLinkage(linkage);\n        return relationship;\n      });\n    }\n  }, {\n    key: 'removeLinkage',\n\n    /* To-Many Relationships only */\n    value: function removeLinkage(relationship, linkage) {\n      var options = arguments[2] === undefined ? { sync: true } : arguments[2];\n\n      if (!_lodash2['default'].isArray(linkage)) {\n        throw new Error('linkage should be array!');\n      }\n\n      if (!_lodash2['default'].isArray(relationship.data)) {\n        throw new Error('relationship should be array');\n      }\n\n      if (!options.sync) {\n        relationship.removeLinkage(linkage);\n        return _q2['default'].resolve(relationship);\n      }\n\n      if (!(relationship.links && relationship.links.self)) {\n        throw new Error('relationship should contain self link!');\n      }\n\n      return this.sync['delete'](relationship.links.self.href, { data: linkage }).then(function () {\n        relationship.removeLinkage(linkage);\n        return relationship;\n      });\n    }\n  }, {\n    key: 'linkageOperation',\n    value: function linkageOperation(operation, type, id, relationship, linkage) {\n      console.warn('this method is deprecated. ' + 'use addLinkage, removeLinkage, replaceLinkage instead.');\n\n      return this.sync[operation](this.getRemote(type, id, relationship), !_lodash2['default'].isUndefined(linkage) ? { data: linkage } : undefined).then(function () {});\n    }\n  }, {\n    key: 'saveResponseToPool',\n    value: function saveResponseToPool(response) {\n      var _this5 = this;\n\n      var mainData = response.data;\n      var includedData = response.included;\n\n      var result = undefined;\n\n      /* Main Data */\n      if (_lodash2['default'].isArray(mainData)) {\n        if (_lodash2['default'].isEmpty(mainData)) {\n          result = [];\n        } else {\n          result = _lodash2['default'].map(mainData, function (data) {\n            return _this5.saveResourceToPool(data);\n          });\n        }\n      } else {\n        if (_lodash2['default'].isNull(mainData)) {\n          result = null;\n        } else {\n          result = this.saveResourceToPool(mainData);\n        }\n      }\n\n      /* Included Data */\n      if (includedData) {\n        _lodash2['default'].map(includedData, function (data) {\n          _this5.saveResourceToPool(data);\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: 'saveResourceToPool',\n    value: function saveResourceToPool(data) {\n      if (_lodash2['default'].isUndefined(data.type) || _lodash2['default'].isUndefined(data.id)) {\n        throw new Error('Invalid data: type & id property should be given.');\n      }\n\n      var resource = this.get(data.type, data.id);\n\n      /* New Resource */\n      if (!resource) {\n        resource = new _Resource2['default'](data);\n        this.db(resource.type).insert(resource);\n      }\n      /* Existing Resource */\n      else {\n        var before = resource.serialize();\n        data = _lodash2['default'].extend({}, data, {\n          attributes: _lodash2['default'].extend({}, before.attributes, data.attributes),\n          relationships: _lodash2['default'].extend({}, before.relationships, data.relationships)\n        });\n        resource.deserialize(data);\n      }\n\n      return resource;\n    }\n  }, {\n    key: 'removeResourceFromPool',\n    value: function removeResourceFromPool(type, id) {\n      return this.db(type).removeById(id);\n    }\n  }, {\n    key: 'addRemote',\n    value: function addRemote(type, url) {\n      this.remote[type] = url;\n    }\n  }, {\n    key: 'getRemote',\n    value: function getRemote(type, id, relationship) {\n      var urlParts = _lodash2['default'].compact([this.remote[type], id, relationship ? 'relationships' : undefined, relationship]);\n      return _urlJoin2['default'].apply(null, urlParts);\n    }\n  }, {\n    key: 'get',\n    value: function get(type, id) {\n      return id === undefined ? this.db(type).value() : this.db(type).getById(id);\n    }\n  }, {\n    key: 'getRelated',\n    value: function getRelated(resource, relationship) {\n      var _this6 = this;\n\n      if (_lodash2['default'].isUndefined(resource.relationships)) {\n        throw new Error('resource have empty relationship');\n      }\n\n      var relationshipObj = resource.relationships[relationship];\n      if (_lodash2['default'].isUndefined(relationshipObj)) {\n        throw new Error('resource dose not have relationship: ' + relationship);\n      }\n\n      var linkage = resource.relationships[relationship].data;\n      if (_lodash2['default'].isUndefined(linkage)) {\n        throw new Error('resource\\'s relationship(' + relationship + ') dose not have linkage');\n      }\n\n      return _lodash2['default'].isArray(linkage) ? _lodash2['default'].map(linkage, function (_linkage) {\n        return _this6.get(_linkage.type, _linkage.id);\n      }) : this.get(linkage.type, linkage.id);\n    }\n  }, {\n    key: 'has',\n    value: function has(type, id) {\n      if (!type || !id) {\n        throw new Error('unenough arguments');\n      }\n\n      var result = this.db(type).getById(id);\n      return !!result;\n    }\n  }]);\n\n  return Pool;\n})();\n\nexports['default'] = Pool;\nmodule.exports = exports['default'];\n\n// FIXME: linkage operation//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9Qb29sLmVzNj9mZjdhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztrQ0FBYyxDQUFROzs7OzZCQUNSLENBQUc7Ozs7bUNBQ0csQ0FBVTs7Ozs4QkFDZixDQUFNOzs7O21DQUNELEVBQVc7Ozs7b0NBQ1YsRUFBWTs7OztJQUdaLElBQUk7QUFFWixXQUZRLElBQUksR0FFVDswQkFGSyxJQUFJOztBQUdyQixRQUFJLENBQUMsRUFBRSxHQUFHLHFCQUFRLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksdUJBQVUsQ0FBQztBQUNwQixRQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDaEIsUUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7R0FDbEI7O2VBUGtCLElBQUk7O1dBU2Ysb0JBQUc7QUFDVCxVQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNqQixVQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7S0FDckI7OztXQUVJLGVBQUMsSUFBSSxFQUFFLEVBQUUsRUFBYzs7O1VBQVosT0FBTyxnQ0FBQyxFQUFFOztBQUN4QixVQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7O0FBRWhCLFVBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixjQUFNLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQ3RDOztBQUVELFVBQUksT0FBTyxDQUFDLE9BQU8sRUFBRTtBQUNuQixjQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQzVDOztBQUVELFVBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixjQUFNLEdBQUcsb0JBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUN4Qix3QkFBYyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTTtB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QUFPLENBQUMsRUFBRTtBQUMxQixjQUFNLElBQUksS0FBSywrQkFBNkIsWUFBWSw2QkFBMEIsQ0FBQztPQUNwRjs7QUFFRCxhQUFPLG9CQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FDdkIsb0JBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxrQkFBUTtlQUFJLE9BQUssR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQztPQUFBLENBQUMsR0FDaEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN0Qzs7O1dBRUUsYUFBQyxJQUFJLEVBQUUsRUFBRSxFQUFFO0FBQ1osVUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRTtBQUNoQixjQUFNLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7T0FDdkM7O0FBRUQsVUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdkMsYUFBTyxDQUFDLENBQUMsTUFBTSxDQUFDO0tBQ2pCOzs7U0FwVGtCLElBQUk7OztxQkFBSixJQUFJIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFEgZnJvbSAncSc7XG5pbXBvcnQgdXJsam9pbiBmcm9tICd1cmwtam9pbic7XG5pbXBvcnQgREIgZnJvbSAnLi9EQic7XG5pbXBvcnQgUkVTVGZ1bCBmcm9tICcuL1JFU1RmdWwnO1xuaW1wb3J0IFJlc291cmNlIGZyb20gJy4vUmVzb3VyY2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvb2wge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGIgPSBuZXcgREIoKTtcbiAgICB0aGlzLnN5bmMgPSBSRVNUZnVsO1xuICAgIHRoaXMucmVzZXRBbGwoKTtcbiAgICB0aGlzLnJlbW90ZSA9IHt9O1xuICB9XG5cbiAgcmVzZXRBbGwoKSB7XG4gICAgdGhpcy5yZW1vdGUgPSB7fTtcbiAgICB0aGlzLmRiLm9iamVjdCA9IHt9O1xuICB9XG5cbiAgZmV0Y2godHlwZSwgaWQsIG9wdGlvbnM9e30pIHtcbiAgICBsZXQgcGFyYW1zID0ge307XG5cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICBwYXJhbXMuc29ydCA9IG9wdGlvbnMuc29ydC5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaW5jbHVkZSkge1xuICAgICAgcGFyYW1zLmluY2x1ZGUgPSBvcHRpb25zLmluY2x1ZGUuam9pbignLCcpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBhZ2UpIHtcbiAgICAgIHBhcmFtcyA9IF8uZXh0ZW5kKHBhcmFtcywge1xuICAgICAgICAncGFnZVtudW1iZXJdJzogb3B0aW9ucy5wYWdlLm51bWJlcixcbiAgICAgICAgJ3BhZ2Vbc2l6ZV0nOiBvcHRpb25zLnBhZ2Uuc2l6ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZmllbGRzKSB7XG4gICAgICBfLnJlZHVjZShvcHRpb25zLmZpZWxkcywgKHJlc3VsdCwgZmllbGRzLCB0eXBlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtgZmllbGRzWyR7dHlwZX1dYF0gPSBmaWVsZHMuam9pbignLCcpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgIF8ucmVkdWNlKG9wdGlvbnMuZmlsdGVyLCAocmVzdWx0LCBmaWx0ZXIsIHR5cGUpID0+IHtcbiAgICAgICAgcmVzdWx0W2BmaWx0ZXJbJHt0eXBlfV1gXSA9IGZpbHRlci5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHBhcmFtcyA9IF8ub21pdChwYXJhbXMsIF8uaXNVbmRlZmluZWQpO1xuXG4gICAgcmV0dXJuIHRoaXMuc3luYy5nZXQoXG4gICAgICB0aGlzLmdldFJlbW90ZSh0eXBlLCBpZCksIHBhcmFtc1xuICAgIClcbiAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLnNhdmVSZXNwb25zZVRvUG9vbChyZXNwb25zZSkpO1xuICB9XG5cbiAgcmVtb3ZlKHR5cGUsIGlkLCBvcHRpb25zPXsgc3luYzogdHJ1ZSB9KSB7XG4gICAgaWYgKCF0eXBlIHx8ICFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmVub3VnaCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmV0dXJuIFEucmVzb2x2ZSh0aGlzLnJlbW92ZVJlc291cmNlRnJvbVBvb2wodHlwZSwgaWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zeW5jLmRlbGV0ZShcbiAgICAgIHRoaXMuZ2V0UmVtb3RlKHR5cGUsIGlkKVxuICAgIClcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQgP1xuICAgICAgICB0aGlzLnNhdmVSZXNwb25zZVRvUG9vbChyZXNwb25zZSkgOlxuICAgICAgICBudWxsO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5yZW1vdmVSZXNvdXJjZUZyb21Qb29sKHR5cGUsIGlkKSk7XG4gIH1cblxuICBjcmVhdGUodHlwZSwgZGF0YSwgb3B0aW9ucz17IHN5bmM6IHRydWUgfSkge1xuICAgIGRhdGEgPSBfLmV4dGVuZCh7IHR5cGUgfSwgZGF0YSk7XG5cbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmV0dXJuIFEucmVzb2x2ZSh0aGlzLnNhdmVSZXNvdXJjZVRvUG9vbChkYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3luYy5wb3N0KFxuICAgICAgdGhpcy5nZXRSZW1vdGUodHlwZSksIHsgZGF0YSB9XG4gICAgKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMgPT09IDIwNCA/XG4gICAgICAgIHRoaXMuc2F2ZVJlc291cmNlVG9Qb29sKGRhdGEpIDpcbiAgICAgICAgdGhpcy5zYXZlUmVzcG9uc2VUb1Bvb2wocmVzcG9uc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKHR5cGUsIGlkLCBkYXRhLCBvcHRpb25zPXsgc3luYzogdHJ1ZSB9KSB7XG4gICAgZGF0YSA9IF8uZXh0ZW5kKHsgdHlwZSwgaWQgfSwgZGF0YSk7XG5cbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmV0dXJuIFEucmVzb2x2ZSh0aGlzLnNhdmVSZXNvdXJjZVRvUG9vbChkYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3luYy5wYXRjaChcbiAgICAgIHRoaXMuZ2V0UmVtb3RlKHR5cGUsIGlkKSwgeyBkYXRhIH1cbiAgICApXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0ID9cbiAgICAgICAgdGhpcy5zYXZlUmVzb3VyY2VUb1Bvb2woZGF0YSwgdHJ1ZSkgOlxuICAgICAgICB0aGlzLnNhdmVSZXNwb25zZVRvUG9vbChyZXNwb25zZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXBsYWNlTGlua2FnZShyZWxhdGlvbnNoaXAsIGxpbmthZ2UsIG9wdGlvbnM9eyBzeW5jOiB0cnVlIH0pIHtcbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmVsYXRpb25zaGlwLnJlcGxhY2VMaW5rYWdlKGxpbmthZ2UpO1xuICAgICAgcmV0dXJuIFEucmVzb2x2ZShyZWxhdGlvbnNoaXApO1xuICAgIH1cblxuICAgIGlmICghKHJlbGF0aW9uc2hpcC5saW5rcyAmJiByZWxhdGlvbnNoaXAubGlua3Muc2VsZikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVsYXRpb25zaGlwIHNob3VsZCBjb250YWluIHNlbGYgbGluayEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zeW5jLnBhdGNoKFxuICAgICAgcmVsYXRpb25zaGlwLmxpbmtzLnNlbGYuaHJlZiwgeyBkYXRhOiBsaW5rYWdlIH1cbiAgICApXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmVsYXRpb25zaGlwLnJlcGxhY2VMaW5rYWdlKGxpbmthZ2UpO1xuICAgICAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIFRvLU1hbnkgUmVsYXRpb25zaGlwcyBvbmx5ICovXG4gIGFkZExpbmthZ2UocmVsYXRpb25zaGlwLCBsaW5rYWdlLCBvcHRpb25zPXsgc3luYzogdHJ1ZSB9KSB7XG4gICAgaWYgKCFfLmlzQXJyYXkobGlua2FnZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbGlua2FnZSBzaG91bGQgYmUgYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzQXJyYXkocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbGF0aW9uc2hpcCBzaG91bGQgYmUgYXJyYXknKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmVsYXRpb25zaGlwLmFkZExpbmthZ2UobGlua2FnZSk7XG4gICAgICByZXR1cm4gUS5yZXNvbHZlKHJlbGF0aW9uc2hpcCk7XG4gICAgfVxuXG4gICAgaWYgKCEocmVsYXRpb25zaGlwLmxpbmtzICYmIHJlbGF0aW9uc2hpcC5saW5rcy5zZWxmKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWxhdGlvbnNoaXAgc2hvdWxkIGNvbnRhaW4gc2VsZiBsaW5rIScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN5bmMucG9zdChcbiAgICAgIHJlbGF0aW9uc2hpcC5saW5rcy5zZWxmLmhyZWYsIHsgZGF0YTogbGlua2FnZSB9XG4gICAgKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJlbGF0aW9uc2hpcC5hZGRMaW5rYWdlKGxpbmthZ2UpO1xuICAgICAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIFRvLU1hbnkgUmVsYXRpb25zaGlwcyBvbmx5ICovXG4gIHJlbW92ZUxpbmthZ2UocmVsYXRpb25zaGlwLCBsaW5rYWdlLCBvcHRpb25zPXsgc3luYzogdHJ1ZSB9KSB7XG4gICAgaWYgKCFfLmlzQXJyYXkobGlua2FnZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbGlua2FnZSBzaG91bGQgYmUgYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzQXJyYXkocmVsYXRpb25zaGlwLmRhdGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbGF0aW9uc2hpcCBzaG91bGQgYmUgYXJyYXknKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuc3luYykge1xuICAgICAgcmVsYXRpb25zaGlwLnJlbW92ZUxpbmthZ2UobGlua2FnZSk7XG4gICAgICByZXR1cm4gUS5yZXNvbHZlKHJlbGF0aW9uc2hpcCk7XG4gICAgfVxuXG4gICAgaWYgKCEocmVsYXRpb25zaGlwLmxpbmtzICYmIHJlbGF0aW9uc2hpcC5saW5rcy5zZWxmKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWxhdGlvbnNoaXAgc2hvdWxkIGNvbnRhaW4gc2VsZiBsaW5rIScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN5bmMuZGVsZXRlKFxuICAgICAgcmVsYXRpb25zaGlwLmxpbmtzLnNlbGYuaHJlZiwgeyBkYXRhOiBsaW5rYWdlIH1cbiAgICApXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmVsYXRpb25zaGlwLnJlbW92ZUxpbmthZ2UobGlua2FnZSk7XG4gICAgICByZXR1cm4gcmVsYXRpb25zaGlwO1xuICAgIH0pO1xuICB9XG5cbiAgbGlua2FnZU9wZXJhdGlvbihvcGVyYXRpb24sIHR5cGUsIGlkLCByZWxhdGlvbnNoaXAsIGxpbmthZ2UpIHtcbiAgICBjb25zb2xlLndhcm4oJ3RoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgJ3VzZSBhZGRMaW5rYWdlLCByZW1vdmVMaW5rYWdlLCByZXBsYWNlTGlua2FnZSBpbnN0ZWFkLicpO1xuXG4gICAgcmV0dXJuIHRoaXMuc3luY1tvcGVyYXRpb25dKFxuICAgICAgdGhpcy5nZXRSZW1vdGUodHlwZSwgaWQsIHJlbGF0aW9uc2hpcCksXG4gICAgICAhXy5pc1VuZGVmaW5lZChsaW5rYWdlKSA/IHsgZGF0YTogbGlua2FnZSB9IDogdW5kZWZpbmVkXG4gICAgKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIEZJWE1FOiBsaW5rYWdlIG9wZXJhdGlvblxuICAgIH0pO1xuICB9XG5cbiAgc2F2ZVJlc3BvbnNlVG9Qb29sKHJlc3BvbnNlKSB7XG4gICAgbGV0IG1haW5EYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICBsZXQgaW5jbHVkZWREYXRhID0gcmVzcG9uc2UuaW5jbHVkZWQ7XG5cbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgLyogTWFpbiBEYXRhICovXG4gICAgaWYgKF8uaXNBcnJheShtYWluRGF0YSkpIHtcbiAgICAgIGlmIChfLmlzRW1wdHkobWFpbkRhdGEpKSB7XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IF8ubWFwKG1haW5EYXRhLCBkYXRhID0+XG4gICAgICAgICAgdGhpcy5zYXZlUmVzb3VyY2VUb1Bvb2woZGF0YSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoXy5pc051bGwobWFpbkRhdGEpKSB7XG4gICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5zYXZlUmVzb3VyY2VUb1Bvb2wobWFpbkRhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIEluY2x1ZGVkIERhdGEgKi9cbiAgICBpZiAoaW5jbHVkZWREYXRhKSB7XG4gICAgICBfLm1hcChpbmNsdWRlZERhdGEsIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNhdmVSZXNvdXJjZVRvUG9vbChkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzYXZlUmVzb3VyY2VUb1Bvb2woZGF0YSkge1xuICAgIGlmIChfLmlzVW5kZWZpbmVkKGRhdGEudHlwZSkgfHwgXy5pc1VuZGVmaW5lZChkYXRhLmlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGE6IHR5cGUgJiBpZCBwcm9wZXJ0eSBzaG91bGQgYmUgZ2l2ZW4uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc291cmNlID0gdGhpcy5nZXQoZGF0YS50eXBlLCBkYXRhLmlkKTtcblxuICAgIC8qIE5ldyBSZXNvdXJjZSAqL1xuICAgIGlmICghcmVzb3VyY2UpIHtcbiAgICAgIHJlc291cmNlID0gbmV3IFJlc291cmNlKGRhdGEpO1xuICAgICAgdGhpcy5kYihyZXNvdXJjZS50eXBlKS5pbnNlcnQocmVzb3VyY2UpO1xuICAgIH1cbiAgICAvKiBFeGlzdGluZyBSZXNvdXJjZSAqL1xuICAgIGVsc2Uge1xuICAgICAgbGV0IGJlZm9yZSA9IHJlc291cmNlLnNlcmlhbGl6ZSgpO1xuICAgICAgZGF0YSA9IF8uZXh0ZW5kKHt9LCBkYXRhLCB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IF8uZXh0ZW5kKHt9LCBiZWZvcmUuYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKSxcbiAgICAgICAgcmVsYXRpb25zaGlwczogXy5leHRlbmQoe30sIGJlZm9yZS5yZWxhdGlvbnNoaXBzLCBkYXRhLnJlbGF0aW9uc2hpcHMpXG4gICAgICB9KTtcbiAgICAgIHJlc291cmNlLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZTtcbiAgfVxuXG4gIHJlbW92ZVJlc291cmNlRnJvbVBvb2wodHlwZSwgaWQpIHtcbiAgICByZXR1cm4gdGhpcy5kYih0eXBlKS5yZW1vdmVCeUlkKGlkKTtcbiAgfVxuXG4gIGFkZFJlbW90ZSh0eXBlLCB1cmwpIHtcbiAgICB0aGlzLnJlbW90ZVt0eXBlXSA9IHVybDtcbiAgfVxuXG4gIGdldFJlbW90ZSh0eXBlLCBpZCwgcmVsYXRpb25zaGlwKSB7XG4gICAgbGV0IHVybFBhcnRzID0gXy5jb21wYWN0KFtcbiAgICAgIHRoaXMucmVtb3RlW3R5cGVdLFxuICAgICAgaWQsXG4gICAgICByZWxhdGlvbnNoaXAgPyAncmVsYXRpb25zaGlwcycgOiB1bmRlZmluZWQsXG4gICAgICByZWxhdGlvbnNoaXBcbiAgICBdKTtcbiAgICByZXR1cm4gdXJsam9pbi5hcHBseShudWxsLCB1cmxQYXJ0cyk7XG4gIH1cblxuICBnZXQodHlwZSwgaWQpIHtcbiAgICByZXR1cm4gaWQgPT09IHVuZGVmaW5lZCA/XG4gICAgICB0aGlzLmRiKHR5cGUpLnZhbHVlKCkgOlxuICAgICAgdGhpcy5kYih0eXBlKS5nZXRCeUlkKGlkKTtcbiAgfVxuXG4gIGdldFJlbGF0ZWQocmVzb3VyY2UsIHJlbGF0aW9uc2hpcCkge1xuICAgIGlmIChfLmlzVW5kZWZpbmVkKHJlc291cmNlLnJlbGF0aW9uc2hpcHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jlc291cmNlIGhhdmUgZW1wdHkgcmVsYXRpb25zaGlwJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlbGF0aW9uc2hpcE9iaiA9IHJlc291cmNlLnJlbGF0aW9uc2hpcHNbcmVsYXRpb25zaGlwXTtcbiAgICBpZiAoXy5pc1VuZGVmaW5lZChyZWxhdGlvbnNoaXBPYmopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlc291cmNlIGRvc2Ugbm90IGhhdmUgcmVsYXRpb25zaGlwOiAke3JlbGF0aW9uc2hpcH1gKTtcbiAgICB9XG5cbiAgICBsZXQgbGlua2FnZSA9IHJlc291cmNlLnJlbGF0aW9uc2hpcHNbcmVsYXRpb25zaGlwXS5kYXRhO1xuICAgIGlmIChfLmlzVW5kZWZpbmVkKGxpbmthZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlc291cmNlXFwncyByZWxhdGlvbnNoaXAoJHtyZWxhdGlvbnNoaXB9KSBkb3NlIG5vdCBoYXZlIGxpbmthZ2VgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gXy5pc0FycmF5KGxpbmthZ2UpID9cbiAgICAgIF8ubWFwKGxpbmthZ2UsIF9saW5rYWdlID0+IHRoaXMuZ2V0KF9saW5rYWdlLnR5cGUsIF9saW5rYWdlLmlkKSkgOlxuICAgICAgdGhpcy5nZXQobGlua2FnZS50eXBlLCBsaW5rYWdlLmlkKTtcbiAgfVxuXG4gIGhhcyh0eXBlLCBpZCkge1xuICAgIGlmICghdHlwZSB8fCAhaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5lbm91Z2ggYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IHRoaXMuZGIodHlwZSkuZ2V0QnlJZChpZCk7XG4gICAgcmV0dXJuICEhcmVzdWx0O1xuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZHVsZXMvUG9vbC5lczZcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _underscoreDb = __webpack_require__(7);\n\nvar _underscoreDb2 = _interopRequireDefault(_underscoreDb);\n\nfunction lowChain(_, array) {\n  var chain = _.chain(array);\n\n  _.functions(chain).forEach(function (method) {\n    chain[method] = _.flow(chain[method], function (arg) {\n      var res = arg.value ? arg.value() : arg;\n      return res;\n    });\n  });\n\n  return chain;\n}\n\nfunction DB() {\n  var _ = _lodash2['default'].runInContext();\n  _.mixin(_underscoreDb2['default']);\n\n  var value = _.prototype.value;\n  _.prototype.value = function () {\n    var res = value.apply(this, arguments);\n    return res;\n  };\n\n  function db(key) {\n    var array = undefined;\n    if (db.object[key]) {\n      array = db.object[key];\n    } else {\n      array = db.object[key] = [];\n    }\n\n    var short = lowChain(_, array);\n    short.chain = function () {\n      return _.chain(array);\n    };\n    return short;\n  }\n\n  // Expose lodash instance\n  db._ = _;\n\n  // Expose database object\n  db.object = {};\n\n  return db;\n}\n\nDB.stringify = function (obj) {\n  return JSON.stringify(obj, null, 2);\n};\n\nDB.parse = function (str) {\n  return JSON.parse(str);\n};\n\nexports['default'] = DB;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9EQi5lczY/ODgyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztrQ0FBbUIsQ0FBUTs7Ozt3Q0FDRixDQUFlOzs7O0FBR3hDLFNBQVMsUUFBUSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFDMUIsTUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzs7QUFFM0IsR0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FDakIsT0FBTyxDQUFDLFVBQVMsTUFBTSxFQUFFO0FBQ3hCLFNBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxVQUFTLEdBQUcsRUFBRTtBQUNsRCxVQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxHQUFHLENBQUM7QUFDeEMsYUFBTyxHQUFHLENBQUM7S0FDWixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7O0FBRUgsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFHRCxTQUFTLEVBQUUsR0FBRztBQUNaLE1BQUksQ0FBQyxHQUFHLG9CQUFPLFlBQVksRUFBRSxDQUFDO0FBQzlCLEdBQUMsQ0FBQyxLQUFLLDJCQUFjLENBQUM7O0FBRXRCLE1BQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0FBQzlCLEdBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVc7QUFDN0IsUUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDdkMsV0FBTyxHQUFHLENBQUM7R0FDWixDQUFDOztBQUVGLFdBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRTtBQUNmLFFBQUksS0FBSyxhQUFDO0FBQ1YsUUFBSSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ2xCLFdBQUssR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3hCLE1BQ0k7QUFDSCxXQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDN0I7O0FBRUQsUUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvQixTQUFLLENBQUMsS0FBSyxHQUFHLFlBQVc7QUFDdkIsYUFBTyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3ZCLENBQUM7QUFDRixXQUFPLEtBQUssQ0FBQztHQUNkOzs7QUFHRCxJQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7O0FBR1QsSUFBRSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7O0FBRWYsU0FBTyxFQUFFLENBQUM7Q0FDWDs7QUFFRCxFQUFFLENBQUMsU0FBUyxHQUFHLFVBQVMsR0FBRyxFQUFFO0FBQzNCLFNBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3JDLENBQUM7O0FBRUYsRUFBRSxDQUFDLEtBQUssR0FBRyxVQUFTLEdBQUcsRUFBRTtBQUN2QixTQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDeEIsQ0FBQzs7cUJBR2EsRUFBRSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZGFzaCBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHVuZGVyc2NvcmVEQiBmcm9tICd1bmRlcnNjb3JlLWRiJztcblxuXG5mdW5jdGlvbiBsb3dDaGFpbihfLCBhcnJheSkge1xuICBsZXQgY2hhaW4gPSBfLmNoYWluKGFycmF5KTtcblxuICBfLmZ1bmN0aW9ucyhjaGFpbilcbiAgLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgY2hhaW5bbWV0aG9kXSA9IF8uZmxvdyhjaGFpblttZXRob2RdLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgIGxldCByZXMgPSBhcmcudmFsdWUgPyBhcmcudmFsdWUoKSA6IGFyZztcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBjaGFpbjtcbn1cblxuXG5mdW5jdGlvbiBEQigpIHtcbiAgbGV0IF8gPSBsb2Rhc2gucnVuSW5Db250ZXh0KCk7XG4gIF8ubWl4aW4odW5kZXJzY29yZURCKTtcblxuICBsZXQgdmFsdWUgPSBfLnByb3RvdHlwZS52YWx1ZTtcbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgcmVzID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRiKGtleSkge1xuICAgIGxldCBhcnJheTtcbiAgICBpZiAoZGIub2JqZWN0W2tleV0pIHtcbiAgICAgIGFycmF5ID0gZGIub2JqZWN0W2tleV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYXJyYXkgPSBkYi5vYmplY3Rba2V5XSA9IFtdO1xuICAgIH1cblxuICAgIGxldCBzaG9ydCA9IGxvd0NoYWluKF8sIGFycmF5KTtcbiAgICBzaG9ydC5jaGFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF8uY2hhaW4oYXJyYXkpO1xuICAgIH07XG4gICAgcmV0dXJuIHNob3J0O1xuICB9XG5cbiAgLy8gRXhwb3NlIGxvZGFzaCBpbnN0YW5jZVxuICBkYi5fID0gXztcblxuICAvLyBFeHBvc2UgZGF0YWJhc2Ugb2JqZWN0XG4gIGRiLm9iamVjdCA9IHt9O1xuXG4gIHJldHVybiBkYjtcbn1cblxuREIuc3RyaW5naWZ5ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xufTtcblxuREIucGFyc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgREI7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tb2R1bGVzL0RCLmVzNlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_7__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwidW5kZXJzY29yZURCXCIsXCJhbWRcIjpcInVuZGVyc2NvcmUtZGJcIixcImNvbW1vbmpzXCI6XCJ1bmRlcnNjb3JlLWRiXCIsXCJjb21tb25qczJcIjpcInVuZGVyc2NvcmUtZGJcIn0/OGMwOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzdfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIHtcInJvb3RcIjpcInVuZGVyc2NvcmVEQlwiLFwiYW1kXCI6XCJ1bmRlcnNjb3JlLWRiXCIsXCJjb21tb25qc1wiOlwidW5kZXJzY29yZS1kYlwiLFwiY29tbW9uanMyXCI6XCJ1bmRlcnNjb3JlLWRiXCJ9XG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_8__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiUVwiLFwiYW1kXCI6XCJxXCIsXCJjb21tb25qc1wiOlwicVwiLFwiY29tbW9uanMyXCI6XCJxXCJ9P2IzN2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV84X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJRXCIsXCJhbWRcIjpcInFcIixcImNvbW1vbmpzXCI6XCJxXCIsXCJjb21tb25qczJcIjpcInFcIn1cbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 9 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_9__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwidXJsam9pblwiLFwiYW1kXCI6XCJ1cmwtam9pblwiLFwiY29tbW9uanNcIjpcInVybC1qb2luXCIsXCJjb21tb25qczJcIjpcInVybC1qb2luXCJ9P2IxYmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV85X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJyb290XCI6XCJ1cmxqb2luXCIsXCJhbWRcIjpcInVybC1qb2luXCIsXCJjb21tb25qc1wiOlwidXJsLWpvaW5cIixcImNvbW1vbmpzMlwiOlwidXJsLWpvaW5cIn1cbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _jquery = __webpack_require__(11);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _q = __webpack_require__(8);\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _Response = __webpack_require__(12);\n\nvar _Response2 = _interopRequireDefault(_Response);\n\nvar stringifyRequiredMethod = function stringifyRequiredMethod(method) {\n  // these HTTP methods requires JSON.stringify\n  return /^(POST|PUT|PATCH|DELETE)$/.test(method.toUpperCase());\n};\n\nfunction makeAjaxRequest(options) {\n  options = options || {};\n\n  if (stringifyRequiredMethod(options.type)) {\n    if (options.contentType === 'application/json') {\n      options.data = JSON.stringify(options.data);\n    }\n  }\n\n  options.url = options.url.replace(/\\/?$/, '/');\n\n  // https://github.com/kriskowal/q/wiki/Coming-from-jQuery\n  return _q2['default'].promise(function (resolve, reject) {\n    _jquery2['default'].ajax(options).then(function (data, textStatus, jqXHR) {\n      delete jqXHR.then; // treat xhr as a non-promise\n      var response = new _Response2['default'](jqXHR);\n      resolve(response);\n    }).fail(function (jqXHR) {\n      delete jqXHR.then; // treat xhr as a non-promise\n      var response = new _Response2['default'](jqXHR);\n      reject(response);\n    });\n  });\n}\n\nexports['default'] = {\n  head: function head(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'HEAD',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  get: function get(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'GET',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  post: function post(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'POST',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  put: function put(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'PUT',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  patch: function patch(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'PATCH',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  'delete': function _delete(url, data, options) {\n    options = _lodash2['default'].extend({\n      url: url,\n      type: 'DELETE',\n      data: data\n    }, this.defaultOptions, options);\n    return makeAjaxRequest(options);\n  },\n\n  defaultOptions: {\n    contentType: 'application/json',\n    processData: true\n  },\n\n  ajaxSetup: function ajaxSetup(options) {\n    _jquery2['default'].ajaxSetup(options);\n  }\n};\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9SRVNUZnVsLmVzNj81YTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2tDQUFjLEVBQVE7Ozs7a0NBQ1IsQ0FBUTs7Ozs2QkFDUixDQUFHOzs7O29DQUNJLEVBQVk7Ozs7QUFHakMsSUFBSSx1QkFBdUIsR0FBRyxTQUExQix1QkFBdUIsQ0FBWSxNQUFNLEVBQUU7O0FBRTdDLFNBQVEsMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFFO0NBQ2pFLENBQUM7O0FBRUYsU0FBUyxlQUFlLENBQUMsT0FBTyxFQUFFO0FBQ2hDLFNBQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDOztBQUV4QixNQUFJLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUN6QyxRQUFJLE9BQU8sQ0FBQyxXQUFXLEtBQUssa0JBQWtCLEVBQUU7QUFDOUMsYUFBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM3QztHQUNGOztBQUVELFNBQU8sQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7QUFHL0MsU0FBTyxlQUFFLE9BQU8sQ0FBQyxVQUFTLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDekMsd0JBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUNaLElBQUksQ0FBQyxVQUFTLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFO0FBQ3RDLGFBQU8sS0FBSyxDQUFDLElBQUksQ0FBQztBQUNsQixVQUFJLFFBQVEsR0FBRywwQkFBYSxLQUFLLENBQUMsQ0FBQztBQUNuQyxhQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDbkIsQ0FBQyxDQUNELElBQUksQ0FBQyxVQUFTLEtBQUssRUFBRTtBQUNwQixhQUFPLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDbEIsVUFBSSxRQUFRLEdBQUcsMEJBQWEsS0FBSyxDQUFDLENBQUM7QUFDbkMsWUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ2xCLENBQUMsQ0FBQztHQUNOLENBQUMsQ0FBQztDQUNKOztxQkFFYztBQUNiLE1BQUksZ0JBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkIsV0FBTyxHQUFHLG9CQUFFLE1BQU0sQ0FBQztBQUNqQixTQUFHLEVBQUUsR0FBRztBQUNSLFVBQUksRUFBRSxNQUFNO0FBQ1osVUFBSSxFQUFFLElBQUk7S0FDWCxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDakMsV0FBTyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDakM7O0FBRUQsS0FBRyxlQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3RCLFdBQU8sR0FBRyxvQkFBRSxNQUFNLENBQUM7QUFDakIsU0FBRyxFQUFFLEdBQUc7QUFDUixVQUFJLEVBQUUsS0FBSztBQUNYLFVBQUksRUFBRSxJQUFJO0tBQ1gsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLFdBQU8sZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ2pDOztBQUVELE1BQUksZ0JBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkIsV0FBTyxHQUFHLG9CQUFFLE1BQU0sQ0FBQztBQUNqQixTQUFHLEVBQUUsR0FBRztBQUNSLFVBQUksRUFBRSxNQUFNO0FBQ1osVUFBSSxFQUFFLElBQUk7S0FDWCxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDakMsV0FBTyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDakM7O0FBRUQsS0FBRyxlQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3RCLFdBQU8sR0FBRyxvQkFBRSxNQUFNLENBQUM7QUFDakIsU0FBRyxFQUFFLEdBQUc7QUFDUixVQUFJLEVBQUUsS0FBSztBQUNYLFVBQUksRUFBRSxJQUFJO0tBQ1gsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2pDLFdBQU8sZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ2pDOztBQUVELE9BQUssaUJBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDeEIsV0FBTyxHQUFHLG9CQUFFLE1BQU0sQ0FBQztBQUNqQixTQUFHLEVBQUUsR0FBRztBQUNSLFVBQUksRUFBRSxPQUFPO0FBQ2IsVUFBSSxFQUFFLElBQUk7S0FDWCxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDakMsV0FBTyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDakM7O0FBRUQsWUFBTSxpQkFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUN6QixXQUFPLEdBQUcsb0JBQUUsTUFBTSxDQUFDO0FBQ2pCLFNBQUcsRUFBRSxHQUFHO0FBQ1IsVUFBSSxFQUFFLFFBQVE7QUFDZCxVQUFJLEVBQUUsSUFBSTtLQUNYLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqQyxXQUFPLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNqQzs7QUFFRCxnQkFBYyxFQUFFO0FBQ2QsZUFBVyxFQUFFLGtCQUFrQjtBQUMvQixlQUFXLEVBQUUsSUFBSTtHQUNsQjs7QUFFRCxXQUFTLHFCQUFDLE9BQU8sRUFBRTtBQUNqQix3QkFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDdEI7Q0FDRiIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFEgZnJvbSAncSc7XG5pbXBvcnQgUmVzcG9uc2UgZnJvbSAnLi9SZXNwb25zZSc7XG5cblxubGV0IHN0cmluZ2lmeVJlcXVpcmVkTWV0aG9kID0gZnVuY3Rpb24obWV0aG9kKSB7XG4gIC8vIHRoZXNlIEhUVFAgbWV0aG9kcyByZXF1aXJlcyBKU09OLnN0cmluZ2lmeVxuICByZXR1cm4gKC9eKFBPU1R8UFVUfFBBVENIfERFTEVURSkkLy50ZXN0KG1ldGhvZC50b1VwcGVyQ2FzZSgpKSk7XG59O1xuXG5mdW5jdGlvbiBtYWtlQWpheFJlcXVlc3Qob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAoc3RyaW5naWZ5UmVxdWlyZWRNZXRob2Qob3B0aW9ucy50eXBlKSkge1xuICAgIGlmIChvcHRpb25zLmNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24vanNvbicpIHtcbiAgICAgIG9wdGlvbnMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgb3B0aW9ucy51cmwgPSBvcHRpb25zLnVybC5yZXBsYWNlKC9cXC8/JC8sICcvJyk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQ29taW5nLWZyb20talF1ZXJ5XG4gIHJldHVybiBRLnByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgJC5hamF4KG9wdGlvbnMpXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xuICAgICAgICBkZWxldGUganFYSFIudGhlbjsgLy8gdHJlYXQgeGhyIGFzIGEgbm9uLXByb21pc2VcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGpxWEhSKTtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9KVxuICAgICAgLmZhaWwoZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgZGVsZXRlIGpxWEhSLnRoZW47IC8vIHRyZWF0IHhociBhcyBhIG5vbi1wcm9taXNlXG4gICAgICAgIGxldCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShqcVhIUik7XG4gICAgICAgIHJlamVjdChyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaGVhZCh1cmwsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gXy5leHRlbmQoe1xuICAgICAgdXJsOiB1cmwsXG4gICAgICB0eXBlOiAnSEVBRCcsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VBamF4UmVxdWVzdChvcHRpb25zKTtcbiAgfSxcblxuICBnZXQodXJsLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VBamF4UmVxdWVzdChvcHRpb25zKTtcbiAgfSxcblxuICBwb3N0KHVybCwgZGF0YSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbWFrZUFqYXhSZXF1ZXN0KG9wdGlvbnMpO1xuICB9LFxuXG4gIHB1dCh1cmwsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gXy5leHRlbmQoe1xuICAgICAgdXJsOiB1cmwsXG4gICAgICB0eXBlOiAnUFVUJyxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbWFrZUFqYXhSZXF1ZXN0KG9wdGlvbnMpO1xuICB9LFxuXG4gIHBhdGNoKHVybCwgZGF0YSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBfLmV4dGVuZCh7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIHR5cGU6ICdQQVRDSCcsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VBamF4UmVxdWVzdChvcHRpb25zKTtcbiAgfSxcblxuICBkZWxldGUodXJsLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IF8uZXh0ZW5kKHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VBamF4UmVxdWVzdChvcHRpb25zKTtcbiAgfSxcblxuICBkZWZhdWx0T3B0aW9uczoge1xuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgcHJvY2Vzc0RhdGE6IHRydWVcbiAgfSxcblxuICBhamF4U2V0dXAob3B0aW9ucykge1xuICAgICQuYWpheFNldHVwKG9wdGlvbnMpO1xuICB9XG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbW9kdWxlcy9SRVNUZnVsLmVzNlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 11 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_11__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiJFwiLFwiYW1kXCI6XCJqcXVlcnlcIixcImNvbW1vbmpzXCI6XCJqcXVlcnlcIixcImNvbW1vbmpzMlwiOlwianF1ZXJ5XCJ9PzU0NTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTFfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIHtcInJvb3RcIjpcIiRcIixcImFtZFwiOlwianF1ZXJ5XCIsXCJjb21tb25qc1wiOlwianF1ZXJ5XCIsXCJjb21tb25qczJcIjpcImpxdWVyeVwifVxuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* eslint no-unused-vars: [0] */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _isResponseError(status) {\n  return function (status) {\n    return 400 && status < 600;\n  };\n}\n\nfunction _parseData(xhr) {\n  if (!xhr.responseJSON) {\n    return null;\n  }\n  return xhr.responseJSON.data;\n}\n\nfunction _parseIncluded(xhr) {\n  if (!xhr.responseJSON) {\n    return null;\n  }\n  return xhr.responseJSON.included;\n}\n\nfunction _parseErrors(xhr) {\n  if (!(xhr.responseJSON && xhr.responseJSON.errors)) {\n    if (_isResponseError(xhr.status)) {\n      return [{\n        status: '' + xhr.status\n      }];\n    }\n    return null;\n  }\n\n  var errors = xhr.responseJSON.errors;\n\n  return _lodash2['default'].map(errors, function (error) {\n    return _lodash2['default'].extend({\n      status: '' + xhr.status\n    }, error);\n  });\n}\n\nfunction _parseHeaders(xhr) {\n  var result = [];\n\n  var headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg;\n  var headersString = xhr.getAllResponseHeaders();\n  var findResult = undefined;\n\n  do {\n    findResult = headerRegex.exec(headersString);\n    if (findResult) {\n      result.push(findResult.slice(1));\n    }\n  } while (findResult !== null);\n\n  return _lodash2['default'].object(result);\n}\n\nvar Response = function Response(xhr) {\n  _classCallCheck(this, Response);\n\n  this.responseJSON = xhr.responseJSON;\n  this.data = _parseData(xhr);\n  this.included = _parseIncluded(xhr);\n  this.errors = _parseErrors(xhr);\n  this.headers = _parseHeaders(xhr);\n  this.satus = xhr.status;\n  this.nativeXHR = xhr;\n};\n\nexports['default'] = Response;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9SZXNwb25zZS5lczY/ZDg1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztrQ0FDYyxDQUFROzs7O0FBR3RCLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ2hDLFNBQU8sZ0JBQU07V0FBSSxHQUFHLElBQUksTUFBTSxHQUFHLEdBQUc7R0FBQSxDQUFDO0NBQ3RDOztBQUVELFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixNQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRTtBQUNyQixXQUFPLElBQUksQ0FBQztHQUNiO0FBQ0QsU0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztDQUM5Qjs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxHQUFHLEVBQUU7QUFDM0IsTUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7QUFDckIsV0FBTyxJQUFJLENBQUM7R0FDYjtBQUNELFNBQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUM7Q0FDbEM7O0FBRUQsU0FBUyxZQUFZLENBQUMsR0FBRyxFQUFFO0FBQ3pCLE1BQUksRUFBRSxHQUFHLENBQUMsWUFBWSxJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFFLEVBQUU7QUFDbkQsUUFBSSxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDaEMsYUFBTyxDQUFDO0FBQ04sY0FBTSxFQUFFLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTTtPQUN4QixDQUFDLENBQUM7S0FDSjtBQUNELFdBQU8sSUFBSSxDQUFDO0dBQ2I7O0FBRUQsTUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUM7O0FBRXJDLFNBQU8sb0JBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxVQUFTLEtBQUssRUFBRTtBQUNuQyxXQUFPLG9CQUFFLE1BQU0sQ0FBQztBQUNkLFlBQU0sRUFBRSxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU07S0FDeEIsRUFBRSxLQUFLLENBQUMsQ0FBQztHQUNYLENBQUMsQ0FBQztDQUNKOztBQUVELFNBQVMsYUFBYSxDQUFDLEdBQUcsRUFBRTtBQUMxQixNQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7O0FBRWhCLE1BQUksV0FBVyxHQUFHLDRCQUE0QixDQUFDO0FBQy9DLE1BQUksYUFBYSxHQUFHLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0FBQ2hELE1BQUksVUFBVSxhQUFDOztBQUVmLEtBQUc7QUFDRCxjQUFVLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM3QyxRQUFJLFVBQVUsRUFBRTtBQUNkLFlBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2xDO0dBQ0YsUUFBUSxVQUFVLEtBQUssSUFBSSxFQUFDOztBQUU3QixTQUFPLG9CQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN6Qjs7SUFHb0IsUUFBUSxHQUVoQixTQUZRLFFBQVEsQ0FFZixHQUFHLEVBQUU7d0JBRkUsUUFBUTs7QUFHekIsTUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO0FBQ3JDLE1BQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLE1BQUksQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLE1BQUksQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLE1BQUksQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztBQUN4QixNQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztDQUN0Qjs7cUJBVmtCLFFBQVEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFswXSAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuXG5mdW5jdGlvbiBfaXNSZXNwb25zZUVycm9yKHN0YXR1cykge1xuICByZXR1cm4gc3RhdHVzID0+IDQwMCAmJiBzdGF0dXMgPCA2MDA7XG59XG5cbmZ1bmN0aW9uIF9wYXJzZURhdGEoeGhyKSB7XG4gIGlmICgheGhyLnJlc3BvbnNlSlNPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB4aHIucmVzcG9uc2VKU09OLmRhdGE7XG59XG5cbmZ1bmN0aW9uIF9wYXJzZUluY2x1ZGVkKHhocikge1xuICBpZiAoIXhoci5yZXNwb25zZUpTT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4geGhyLnJlc3BvbnNlSlNPTi5pbmNsdWRlZDtcbn1cblxuZnVuY3Rpb24gX3BhcnNlRXJyb3JzKHhocikge1xuICBpZiAoISh4aHIucmVzcG9uc2VKU09OICYmIHhoci5yZXNwb25zZUpTT04uZXJyb3JzICkpIHtcbiAgICBpZiAoX2lzUmVzcG9uc2VFcnJvcih4aHIuc3RhdHVzKSkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIHN0YXR1czogJycgKyB4aHIuc3RhdHVzXG4gICAgICB9XTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgZXJyb3JzID0geGhyLnJlc3BvbnNlSlNPTi5lcnJvcnM7XG5cbiAgcmV0dXJuIF8ubWFwKGVycm9ycywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gXy5leHRlbmQoe1xuICAgICAgc3RhdHVzOiAnJyArIHhoci5zdGF0dXNcbiAgICB9LCBlcnJvcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBfcGFyc2VIZWFkZXJzKHhocikge1xuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgbGV0IGhlYWRlclJlZ2V4ID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZztcbiAgbGV0IGhlYWRlcnNTdHJpbmcgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG4gIGxldCBmaW5kUmVzdWx0O1xuXG4gIGRvIHtcbiAgICBmaW5kUmVzdWx0ID0gaGVhZGVyUmVnZXguZXhlYyhoZWFkZXJzU3RyaW5nKTtcbiAgICBpZiAoZmluZFJlc3VsdCkge1xuICAgICAgcmVzdWx0LnB1c2goZmluZFJlc3VsdC5zbGljZSgxKSk7XG4gICAgfVxuICB9IHdoaWxlIChmaW5kUmVzdWx0ICE9PSBudWxsKVxuXG4gIHJldHVybiBfLm9iamVjdChyZXN1bHQpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3BvbnNlIHtcblxuICBjb25zdHJ1Y3Rvcih4aHIpIHtcbiAgICB0aGlzLnJlc3BvbnNlSlNPTiA9IHhoci5yZXNwb25zZUpTT047XG4gICAgdGhpcy5kYXRhID0gX3BhcnNlRGF0YSh4aHIpO1xuICAgIHRoaXMuaW5jbHVkZWQgPSBfcGFyc2VJbmNsdWRlZCh4aHIpO1xuICAgIHRoaXMuZXJyb3JzID0gX3BhcnNlRXJyb3JzKHhocik7XG4gICAgdGhpcy5oZWFkZXJzID0gX3BhcnNlSGVhZGVycyh4aHIpO1xuICAgIHRoaXMuc2F0dXMgPSB4aHIuc3RhdHVzO1xuICAgIHRoaXMubmF0aXZlWEhSID0geGhyO1xuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZHVsZXMvUmVzcG9uc2UuZXM2XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\nvar _lodash = __webpack_require__(2);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Link = __webpack_require__(3);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _Relationship = __webpack_require__(1);\n\nvar _Relationship2 = _interopRequireDefault(_Relationship);\n\nvar _ResourceIdentifier2 = __webpack_require__(4);\n\nvar _ResourceIdentifier3 = _interopRequireDefault(_ResourceIdentifier2);\n\nvar Resource = (function (_ResourceIdentifier) {\n  function Resource(data) {\n    _classCallCheck(this, Resource);\n\n    _get(Object.getPrototypeOf(Resource.prototype), 'constructor', this).call(this, data);\n    this.deserialize(data);\n  }\n\n  _inherits(Resource, _ResourceIdentifier);\n\n  _createClass(Resource, [{\n    key: 'getIdentifier',\n    value: function getIdentifier() {\n      return _get(Object.getPrototypeOf(Resource.prototype), 'serialize', this).call(this);\n    }\n  }, {\n    key: 'setRelationship',\n    value: function setRelationship(key, resource) {\n      if (_lodash2['default'].isArray(resource)) {\n        this.relationships[key] = new _Relationship2['default']({\n          data: _lodash2['default'].map(resource, function (resource) {\n            return resource instanceof Resource ? resource.getIdentifier() : resource;\n          })\n        });\n      } else {\n        this.relationships[key] = new _Relationship2['default']({\n          links: resource.links,\n          data: resource instanceof Resource ? resource.getIdentifier() : resource\n        });\n      }\n    }\n  }, {\n    key: 'unsetRelationship',\n    value: function unsetRelationship(key) {\n      delete this.relationships[key];\n    }\n  }, {\n    key: 'setRelationships',\n    value: function setRelationships(relationships) {\n      var _this = this;\n\n      _lodash2['default'].each(relationships, function (relationship, key) {\n        _this.setRelationship(key, relationship);\n      });\n    }\n  }, {\n    key: 'setAttribute',\n    value: function setAttribute(key, value) {\n      this.attributes[key] = value;\n    }\n  }, {\n    key: 'unsetAttribute',\n    value: function unsetAttribute(key) {\n      delete this.attributes[key];\n    }\n  }, {\n    key: 'setAttributes',\n    value: function setAttributes(attributes) {\n      _lodash2['default'].extend(this.attributes, attributes);\n    }\n  }, {\n    key: 'flatten',\n    value: function flatten() {\n      return _lodash2['default'].chain({}).extend(this.getIdentifier()).extend(this.attributes).extend(_lodash2['default'].mapValues(this.relationships, function (relationship) {\n        return relationship.serialize();\n      })).value();\n    }\n  }, {\n    key: 'serialize',\n    value: function serialize() {\n      return _lodash2['default'].chain({\n        attributes: this.attributes,\n        links: _lodash2['default'].mapValues(this.links, function (link) {\n          return link.serialize();\n        }),\n        relationships: _lodash2['default'].mapValues(this.relationships, function (relationship) {\n          return relationship.serialize();\n        })\n      }).extend(this.getIdentifier()).omit(function (attribute) {\n        return _lodash2['default'].isObject(attribute) ? _lodash2['default'].isEmpty(attribute) : _lodash2['default'].isUndefined(attribute);\n      }).value();\n    }\n  }, {\n    key: 'deserialize',\n    value: function deserialize(data) {\n      _get(Object.getPrototypeOf(Resource.prototype), 'deserialize', this).call(this, data);\n      this.attributes = data.attributes;\n      this.relationships = _lodash2['default'].mapValues(data.relationships, function (relationship) {\n        return new _Relationship2['default'](relationship);\n      });\n      this.links = _lodash2['default'].mapValues(data.links, function (link) {\n        return new _Link2['default'](link);\n      });\n    }\n  }]);\n\n  return Resource;\n})(_ResourceIdentifier3['default']);\n\nexports['default'] = Resource;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9SZXNvdXJjZS5lczY/Y2I5YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O2tDQUFjLENBQVE7Ozs7Z0NBQ0wsQ0FBUTs7Ozt3Q0FDQSxDQUFnQjs7OzsrQ0FDVixDQUFzQjs7OztJQUdoQyxRQUFRO0FBRWhCLFdBRlEsUUFBUSxDQUVmLElBQUksRUFBRTswQkFGQyxRQUFROztBQUd6QiwrQkFIaUIsUUFBUSw2Q0FHbkIsSUFBSSxFQUFFO0FBQ1osUUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUN4Qjs7WUFMa0IsUUFBUTs7ZUFBUixRQUFROztXQU9kLHlCQUFHO0FBQ2Qsd0NBUmlCLFFBQVEsMkNBUUE7S0FDMUI7OztXQUVjLHlCQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7QUFDN0IsVUFBSSxvQkFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7QUFDdkIsWUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyw4QkFBaUI7QUFDekMsY0FBSSxFQUFFLG9CQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsa0JBQVE7bUJBQzVCLFFBQVEsWUFBWSxRQUFRLEdBQzFCLFFBQVEsQ0FBQyxhQUFhLEVBQUUsR0FDeEIsUUFBUTtXQUFBLENBQ1g7U0FDRixDQUFDLENBQUM7T0FDSixNQUNJO0FBQ0gsWUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyw4QkFBaUI7QUFDekMsZUFBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLO0FBQ3JCLGNBQUksRUFBRSxRQUFRLFlBQVksUUFBUSxHQUNoQyxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQ3hCLFFBQVE7U0FDWCxDQUFDLENBQUM7T0FDSjtLQUNGOzs7V0FFZ0IsMkJBQUMsR0FBRyxFQUFFO0FBQ3JCLGFBQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNoQzs7O1dBRWUsMEJBQUMsYUFBYSxFQUFFOzs7QUFDOUIsMEJBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxVQUFDLFlBQVksRUFBRSxHQUFHLEVBQUs7QUFDM0MsY0FBSyxlQUFlLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxDQUFDO09BQ3pDLENBQUMsQ0FBQztLQUNKOzs7V0FFVyxzQkFBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3ZCLFVBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0tBQzlCOzs7V0FFYSx3QkFBQyxHQUFHLEVBQUU7QUFDbEIsYUFBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQzdCOzs7V0FFWSx1QkFBQyxVQUFVLEVBQUU7QUFDeEIsMEJBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7S0FDdkM7OztXQUVNLG1CQUFHO0FBQ1IsYUFBTyxvQkFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FDdkIsTUFBTSxDQUFDLG9CQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLHNCQUFZO2VBQUksWUFBWSxDQUFDLFNBQVMsRUFBRTtPQUFBLENBQUMsQ0FBQyxDQUNqRixLQUFLLEVBQUUsQ0FBQztLQUNWOzs7V0FFUSxxQkFBRztBQUNWLGFBQU8sb0JBQUUsS0FBSyxDQUFDO0FBQ2Isa0JBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtBQUMzQixhQUFLLEVBQUUsb0JBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsY0FBSTtpQkFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1NBQUEsQ0FBQztBQUN4RCxxQkFBYSxFQUFFLG9CQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLHNCQUFZO2lCQUFJLFlBQVksQ0FBQyxTQUFTLEVBQUU7U0FBQSxDQUFDO09BQ3pGLENBQUMsQ0FDRCxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQzVCLElBQUksQ0FBQyxtQkFBUztlQUFJLG9CQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FDdEMsb0JBQUUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLG9CQUFFLFdBQVcsQ0FBQyxTQUFTLENBQUM7T0FBQSxDQUFDLENBQ2pELEtBQUssRUFBRSxDQUFDO0tBQ1Y7OztXQUVVLHFCQUFDLElBQUksRUFBRTtBQUNoQixpQ0ExRWlCLFFBQVEsNkNBMEVQLElBQUksRUFBRTtBQUN4QixVQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDbEMsVUFBSSxDQUFDLGFBQWEsR0FBRyxvQkFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFDakQsc0JBQVk7ZUFBSSw4QkFBaUIsWUFBWSxDQUFDO09BQUEsQ0FBQyxDQUFDO0FBQ2xELFVBQUksQ0FBQyxLQUFLLEdBQUcsb0JBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQ2pDLGNBQUk7ZUFBSSxzQkFBUyxJQUFJLENBQUM7T0FBQSxDQUFDLENBQUM7S0FDM0I7OztTQWhGa0IsUUFBUTs7O3FCQUFSLFFBQVEiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IExpbmsgZnJvbSAnLi9MaW5rJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi9SZWxhdGlvbnNoaXAnO1xuaW1wb3J0IFJlc291cmNlSWRlbnRpZmllciBmcm9tICcuL1Jlc291cmNlSWRlbnRpZmllcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZUlkZW50aWZpZXIge1xuXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBzdXBlcihkYXRhKTtcbiAgICB0aGlzLmRlc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgZ2V0SWRlbnRpZmllcigpIHtcbiAgICByZXR1cm4gc3VwZXIuc2VyaWFsaXplKCk7XG4gIH1cblxuICBzZXRSZWxhdGlvbnNoaXAoa2V5LCByZXNvdXJjZSkge1xuICAgIGlmIChfLmlzQXJyYXkocmVzb3VyY2UpKSB7XG4gICAgICB0aGlzLnJlbGF0aW9uc2hpcHNba2V5XSA9IG5ldyBSZWxhdGlvbnNoaXAoe1xuICAgICAgICBkYXRhOiBfLm1hcChyZXNvdXJjZSwgcmVzb3VyY2UgPT5cbiAgICAgICAgICByZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlID9cbiAgICAgICAgICAgIHJlc291cmNlLmdldElkZW50aWZpZXIoKSA6XG4gICAgICAgICAgICByZXNvdXJjZVxuICAgICAgICApXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnJlbGF0aW9uc2hpcHNba2V5XSA9IG5ldyBSZWxhdGlvbnNoaXAoe1xuICAgICAgICBsaW5rczogcmVzb3VyY2UubGlua3MsXG4gICAgICAgIGRhdGE6IHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UgP1xuICAgICAgICAgIHJlc291cmNlLmdldElkZW50aWZpZXIoKSA6XG4gICAgICAgICAgcmVzb3VyY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHVuc2V0UmVsYXRpb25zaGlwKGtleSkge1xuICAgIGRlbGV0ZSB0aGlzLnJlbGF0aW9uc2hpcHNba2V5XTtcbiAgfVxuXG4gIHNldFJlbGF0aW9uc2hpcHMocmVsYXRpb25zaGlwcykge1xuICAgIF8uZWFjaChyZWxhdGlvbnNoaXBzLCAocmVsYXRpb25zaGlwLCBrZXkpID0+IHtcbiAgICAgIHRoaXMuc2V0UmVsYXRpb25zaGlwKGtleSwgcmVsYXRpb25zaGlwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHVuc2V0QXR0cmlidXRlKGtleSkge1xuICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgfVxuXG4gIHNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgIF8uZXh0ZW5kKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyk7XG4gIH1cblxuICBmbGF0dGVuKCkge1xuICAgIHJldHVybiBfLmNoYWluKHt9KVxuICAgIC5leHRlbmQodGhpcy5nZXRJZGVudGlmaWVyKCkpXG4gICAgLmV4dGVuZCh0aGlzLmF0dHJpYnV0ZXMpXG4gICAgLmV4dGVuZChfLm1hcFZhbHVlcyh0aGlzLnJlbGF0aW9uc2hpcHMsIHJlbGF0aW9uc2hpcCA9PiByZWxhdGlvbnNoaXAuc2VyaWFsaXplKCkpKVxuICAgIC52YWx1ZSgpO1xuICB9XG5cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiBfLmNoYWluKHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRoaXMuYXR0cmlidXRlcyxcbiAgICAgIGxpbmtzOiBfLm1hcFZhbHVlcyh0aGlzLmxpbmtzLCBsaW5rID0+IGxpbmsuc2VyaWFsaXplKCkpLFxuICAgICAgcmVsYXRpb25zaGlwczogXy5tYXBWYWx1ZXModGhpcy5yZWxhdGlvbnNoaXBzLCByZWxhdGlvbnNoaXAgPT4gcmVsYXRpb25zaGlwLnNlcmlhbGl6ZSgpKVxuICAgIH0pXG4gICAgLmV4dGVuZCh0aGlzLmdldElkZW50aWZpZXIoKSlcbiAgICAub21pdChhdHRyaWJ1dGUgPT4gXy5pc09iamVjdChhdHRyaWJ1dGUpID9cbiAgICAgIF8uaXNFbXB0eShhdHRyaWJ1dGUpIDogXy5pc1VuZGVmaW5lZChhdHRyaWJ1dGUpKVxuICAgIC52YWx1ZSgpO1xuICB9XG5cbiAgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgIHN1cGVyLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IGRhdGEuYXR0cmlidXRlcztcbiAgICB0aGlzLnJlbGF0aW9uc2hpcHMgPSBfLm1hcFZhbHVlcyhkYXRhLnJlbGF0aW9uc2hpcHMsXG4gICAgICByZWxhdGlvbnNoaXAgPT4gbmV3IFJlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXApKTtcbiAgICB0aGlzLmxpbmtzID0gXy5tYXBWYWx1ZXMoZGF0YS5saW5rcyxcbiAgICAgIGxpbmsgPT4gbmV3IExpbmsobGluaykpO1xuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZHVsZXMvUmVzb3VyY2UuZXM2XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ])
});
;